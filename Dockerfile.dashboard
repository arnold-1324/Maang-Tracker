FROM python:3.13-slim

WORKDIR /app

# Copy requirements and install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt flask

# Copy dashboard and dependencies
COPY ui/ ./ui/
COPY memory/ ./memory/
COPY tracker/ ./tracker/
COPY roadmap/ ./roadmap/
COPY analyzer/ ./analyzer/
COPY .env .

# Expose port
EXPOSE 5100

# Run dashboard
CMD ["python", "-u", "ui/dashboard.py"]
